(function(g,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(g=typeof globalThis<"u"?globalThis:g||self,e(g.Vue3Snackbar={},g.Vue))})(this,function(g,e){"use strict";var x="M8.27,3L3,8.27V15.73L8.27,21H15.73C17.5,19.24 21,15.73 21,15.73V8.27L15.73,3M9.1,5H14.9L19,9.1V14.9L14.9,19H9.1L5,14.9V9.1M11,15H13V17H11V15M11,7H13V13H11V7",A="M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",O="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",I="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",T="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z";const H={transform:"rotate(var(--r, 0deg)) scale(var(--sx, 1), var(--sy, 1))"},L={fill:"currentColor"},v={mdi:{size:24,viewbox:"0 0 24 24"},"simple-icons":{size:24,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},N={name:"icon",props:{type:{type:String,default:"mdi"},faIcon:{type:Object,default:null},path:{type:[String,Object,Array]},size:{type:[Number,String],default:24},viewbox:String,flip:{type:String,validator:s=>["horizontal","vertical","both"].includes(s)},rotate:{type:[Number,String],default:0}},setup(s){if(!s.path&&!s.faIcon)return console.warn("vue3-icon requires either a 'path' or an 'fa-icon' property"),()=>e.h("div");const n=e.computed(()=>{var u;return((u=s.faIcon)==null?void 0:u.prefix)||s.type}),a=e.computed(()=>parseInt(s.rotate,10)),t=e.computed(()=>v[n.value]||v.default),i=e.computed(()=>parseInt(s.size,10)||t.value.size),l=e.computed(()=>s.faIcon?`0 0 ${s.faIcon.icon[0]} ${s.faIcon.icon[1]}`:!1),c=e.computed(()=>l.value||s.viewbox||t.value.viewbox),f=e.computed(()=>({...H,"--sx":["both","horizontal"].includes(s.flip)?"-1":"1","--sy":["both","vertical"].includes(s.flip)?"-1":"1","--r":isNaN(a.value)?a.value:a.value+"deg"})),d=e.computed(()=>{var u;return s.faIcon?(u=s.faIcon)==null?void 0:u.icon[4]:s.type==="simple-icons"&&typeof s.path=="object"?s.path.path:s.path}),p=e.computed(()=>n.value==="fad"?(console.warn("vue3-icon does not currently support Duotone FontAwesome icons"),e.h("path")):Array.isArray(s.path)?e.h("g",{style:{...L}},s.path.map(u=>typeof u=="string"?e.h("path",{d:u}):e.h("path",{...u}))):e.h("path",{d:d.value,style:{...L}}));return()=>e.h("svg",{style:f.value,class:["vue3-icon"],width:i.value,height:i.value,viewBox:c.value},[p.value])}},z=["role"],j={class:"vue3-snackbar-message-wrapper"},D={key:0,class:"vue3-snackbar-message-icon"},P={class:"vue3-snackbar-message-content"},q={key:0,class:"vue3-snackbar-message-badge"},F={class:"vue3-snackbar-message-title"},G={key:0,class:"vue3-snackbar-message-additional"},R=e.createElementVNode("div",{class:"spacer"},null,-1),W={class:"vue3-snackbar-message-close"},Z={__name:"Vue3SnackbarMessage",props:{borderClass:{type:String,default:""},message:{type:Object,default:()=>({})},messageClass:{type:String,default:""},messageActionClass:{type:String,default:"vue3-snackbar-message-action"},dense:{type:Boolean,default:!1},iconPresets:{type:Object,required:!0}},emits:["dismiss","click:action"],setup(s,{emit:n}){const a=n,t=s;let i=null,l=null,c=e.ref(!1);const f=()=>{const o=!t.message.duration&&!t.message.dismissible?4e3:t.message.duration;i=setTimeout(p,o)};e.onMounted(()=>{f()}),e.watch(()=>t.message.count,o=>{if(o===1)return!1;clearTimeout(i),clearTimeout(l),l=setTimeout(()=>{c.value=!1},1e3),c.value=!0,f()});const d=()=>{i&&clearTimeout(i),p()},p=()=>{a("dismiss",t.message)},u=e.computed(()=>Object.assign({},{success:{path:O},info:{path:T},warning:{path:A},error:{path:x}},t.iconPresets)),y=e.computed(()=>{const o=u.value[t.message.type];return t.message.type&&!o&&console.warn("[Vue3 Snackbar] Couldn't find icon preset for type "+t.message.type),o?(o.type="mdi",o):t.message.icon&&typeof t.message.icon=="object"?t.message.icon:{path:"",type:"default"}}),h=e.computed(()=>{var o;return t.message.type==="error"?"alert":((o=t.message)==null?void 0:o.role)??"status"}),r=e.computed(()=>{const o=t.message.action;if(o){if(e.isVNode(o))return o;if(typeof o=="object"&&(o.render||o.setup))return o;if(typeof o=="function"){const m=o();return e.isVNode(m)?o:o()}else return null}else return null});return(o,m)=>(e.openBlock(),e.createElementBlock("article",{class:e.normalizeClass(["vue3-snackbar-message",[t.message.type||"custom",t.messageClass,t.borderClass,{"has-background":t.message.background,"has-border":t.borderClass,"is-dense":t.dense,"shake-baby-shake":e.unref(c)}]]),role:h.value,style:e.normalizeStyle({"--message-background":t.message.background,"--message-text-color":t.message.textColor,"--message-icon-color":t.message.iconColor})},[e.renderSlot(o.$slots,"message-inner",{message:t.message},()=>[e.createElementVNode("div",j,[y.value?(e.openBlock(),e.createElementBlock("div",D,[e.renderSlot(o.$slots,"message-icon",{message:t.message,icon:y.value},()=>[e.createVNode(e.unref(N),e.mergeProps(y.value,{role:"img"}),null,16)])])):e.createCommentVNode("",!0),e.createElementVNode("div",P,[e.renderSlot(o.$slots,"message-badge",{message:t.message,count:t.message.count},()=>[t.message.count>1?(e.openBlock(),e.createElementBlock("div",q,e.toDisplayString(t.message.count),1)):e.createCommentVNode("",!0)]),e.renderSlot(o.$slots,"message-content",{message:t.message,title:t.message.title,text:t.message.text},()=>[e.createElementVNode("div",F,e.toDisplayString(t.message.title||t.message.text),1),t.message.title&&t.message.text?(e.openBlock(),e.createElementBlock("div",G,e.toDisplayString(t.message.text),1)):e.createCommentVNode("",!0)]),o.$slots["message-action"]?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(t.messageActionClass),onClick:m[0]||(m[0]=C=>a("click:action",{message:t.message}))},[e.renderSlot(o.$slots,"message-action",{message:t.message,isDismissible:t.message.dismissible,dismiss:d},()=>[e.createVNode(e.unref(r),{message:t.message,"is-dismissible":t.message.dismissible,dismiss:d},null,8,["message","is-dismissible"])])],2)):e.createCommentVNode("",!0)]),R,e.createElementVNode("div",W,[e.renderSlot(o.$slots,"message-close-icon",{message:t.message,isDimissible:t.message.dismissible,isDismissible:t.message.dismissible,dismiss:d},()=>[t.message.dismissible!==!1?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:d},[e.createVNode(e.unref(N),{type:"mdi",path:e.unref(I)},null,8,["path"])])):e.createCommentVNode("",!0)])])])])],14,z))}},U={top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},success:{type:String,default:"#4caf50"},error:{type:String,default:"#ff5252"},warning:{type:String,default:"#fb8c00"},info:{type:String,default:"#2196f3"},iconPresets:{type:Object,default:null},messageTextColor:{type:String,default:"#fff"},messageIconColor:{type:String,default:"currentColor"},attach:{type:[String,typeof window<"u"?HTMLElement:Object],default:"body"},border:{type:String,default:"",validator:s=>["top","bottom","left","right",""].includes(s)},backgroundOpacity:{type:[String,Number],default:.12,validator:s=>!isNaN(parseFloat(s))&&isFinite(s)},backgroundColor:{type:String,default:"currentColor"},baseBackgroundColor:{type:String,default:"#fff"},duration:{type:[Number,String],default:null},messageClass:{type:String},messageActionClass:{type:String,default:"vue3-snackbar-message-action"},zIndex:{type:Number,default:1e4},dense:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1},limit:{type:Number,default:null},groups:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},dismissOnActionClick:{type:Boolean,default:!0}};function J(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var M={exports:{}};function B(){}B.prototype={on:function(s,n,a){var t=this.e||(this.e={});return(t[s]||(t[s]=[])).push({fn:n,ctx:a}),this},once:function(s,n,a){var t=this;function i(){t.off(s,i),n.apply(a,arguments)}return i._=n,this.on(s,i,a)},emit:function(s){var n=[].slice.call(arguments,1),a=((this.e||(this.e={}))[s]||[]).slice(),t=0,i=a.length;for(t;t<i;t++)a[t].fn.apply(a[t].ctx,n);return this},off:function(s,n){var a=this.e||(this.e={}),t=a[s],i=[];if(t&&n)for(var l=0,c=t.length;l<c;l++)t[l].fn!==n&&t[l].fn._!==n&&i.push(t[l]);return i.length?a[s]=i:delete a[s],this}},M.exports=B,M.exports.TinyEmitter=B;var K=M.exports,Q=K,X=new Q;const w=J(X),S={$on:(...s)=>w.on(...s),$once:(...s)=>w.once(...s),$off:(...s)=>w.off(...s),$emit:(...s)=>w.emit(...s)},b=e.ref([]),_=Symbol();function Y(){const s=e.inject(_);if(!s)throw new Error("No Snackbar provided!");return s}const ee={install:(s,n={})=>{const{disableGlobals:a=!1}=n,t={add:i=>{S.$emit("add",i)},clear:()=>{S.$emit("clear")}};a!==!0&&(s.config.globalProperties.$snackbar=t,typeof window<"u"&&(window.$snackbar=t)),s.provide(_,t)}};function te(s){return e.getCurrentScope()?(e.onScopeDispose(s),!0):!1}function $(s){return typeof s=="function"?s():e.unref(s)}const E=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const se=s=>s!=null;function oe(s){return e.getCurrentInstance()}function ne(s,n=!0,a){oe()?e.onMounted(s,a):n?s():e.nextTick(s)}function ae(s){var n;const a=$(s);return(n=a==null?void 0:a.$el)!=null?n:a}const re=E?window:void 0,ie=E?window.document:void 0;function le(){const s=e.ref(!1),n=e.getCurrentInstance();return n&&e.onMounted(()=>{s.value=!0},n),s}function ce(s){const n=le();return e.computed(()=>(n.value,!!s()))}function de(s,n,a={}){const{window:t=re,...i}=a;let l;const c=ce(()=>t&&"MutationObserver"in t),f=()=>{l&&(l.disconnect(),l=void 0)},d=e.computed(()=>{const h=$(s),r=(Array.isArray(h)?h:[h]).map(ae).filter(se);return new Set(r)}),p=e.watch(()=>d.value,h=>{f(),c.value&&h.size&&(l=new MutationObserver(n),h.forEach(r=>l.observe(r,i)))},{immediate:!0,flush:"post"}),u=()=>l==null?void 0:l.takeRecords(),y=()=>{f(),p()};return te(y),{isSupported:c,stop:y,takeRecords:u}}function ue(s={}){const{document:n=ie,selector:a="html",observe:t=!1,initialValue:i="ltr"}=s;function l(){var f,d;return(d=(f=n==null?void 0:n.querySelector(a))==null?void 0:f.getAttribute("dir"))!=null?d:i}const c=e.ref(l());return ne(()=>c.value=l()),t&&n&&de(n.querySelector(a),()=>c.value=l(),{attributes:!0}),e.computed({get(){return c.value},set(f){var d,p;c.value=f,n&&(c.value?(d=n.querySelector(a))==null||d.setAttribute("dir",c.value):(p=n.querySelector(a))==null||p.removeAttribute("dir"))}})}const me={__name:"Vue3Snackbar",props:{...U},emits:["added","dismissed","removed","cleared","click:action"],setup(s,{emit:n}){const a=ue(),t=s,i=n,l=e.computed(()=>({"is-top":t.top,"is-bottom":t.top===!1&&t.bottom,"is-left":t.left,"is-right":t.left===!1&&t.right,"is-middle":t.top===!1&&t.bottom===!1,"is-centre":t.left===!1&&t.right===!1,"has-shadow":t.shadow,"is-rtl":a.value==="rtl"})),c=e.computed(()=>({"--success-colour":t.success,"--error-colour":t.error,"--warning-colour":t.warning,"--info-colour":t.info,"--snackbar-zindex":t.zIndex,"--background-opacity":t.backgroundOpacity,"--background-color":t.backgroundColor,"--base-background-color":t.baseBackgroundColor,"--message-text-color":t.messageTextColor,"--message-icon-color":t.messageIconColor})),f=e.computed(()=>t.border?`border-${t.border}`:""),d=r=>Math.abs(r.split("").reduce((o,m)=>(o<<5)-o+m.charCodeAt(0)|0,0));let p=1;S.$on("add",r=>{i("added",r),r.group||(r.group=d(`${r.type}${r.title}${r.text}`).toString(16)),t.duration&&!r.duration&&r.duration!==0&&(r.duration=+t.duration);const o=r.group&&b.value.find(m=>m.group===r.group);if(t.groups===!1||!o){const m={...r,id:p,count:1};b.value.push(m),p++}else o.count++});const u=e.computed(()=>{const r=t.limit?b.value.slice(t.limit*-1):[...b.value];return t.reverse?r.reverse():r});e.watch(u,r=>{const o=r.map(k=>k.id),C=b.value.map(k=>k.id).filter(k=>!o.includes(k));for(const k of C){const V=b.value.find(fe=>fe.id===k);V&&y(V,!1)}}),S.$on("clear",()=>{i("cleared"),b.value=[]}),e.onUnmounted(()=>{S.$off("add"),S.$off("clear")});const y=(r,o=!1)=>{i(o?"dismissed":"removed",r),b.value=b.value.filter(m=>m.id!==r.id)},h=r=>{i("click:action",r),t.dismissOnActionClick&&y(r.message,!0)};return(r,o)=>(e.openBlock(),e.createBlock(e.Teleport,{to:t.attach},[e.createElementVNode("section",{id:"vue3-snackbar--container",class:e.normalizeClass([[l.value],"vue3-snackbar"]),style:e.normalizeStyle(c.value),"aria-live":"polite"},[e.createVNode(e.TransitionGroup,{name:"vue3-snackbar-message",tag:"div",class:"vue3-snackbar--messages"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,m=>(e.openBlock(),e.createBlock(Z,{key:m.id,message:m,"message-class":t.messageClass,"message-action-class":t.messageActionClass,dense:t.dense,"border-class":f.value,"icon-presets":t.iconPresets,onDismiss:o[0]||(o[0]=C=>y(C,!0)),"onClick:action":h},e.createSlots({_:2},[e.renderList(r.$slots,(C,k)=>({name:k,fn:e.withCtx(V=>[e.renderSlot(r.$slots,k,e.mergeProps({ref_for:!0},V))])}))]),1032,["message","message-class","message-action-class","dense","border-class","icon-presets"]))),128))]),_:3})],6)],8,["to"]))}};g.SnackbarMessages=b,g.SnackbarService=ee,g.Vue3Snackbar=me,g.useSnackbar=Y,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});
